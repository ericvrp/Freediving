<template name="clockTemplate">
  <p>Current Time</p>
  <div class="clock"></div>
  <br/>
  <p>Countdown until Offical Top</p>
  <div class="countdownClock"></div>

  <script type="text/javascript">
    //http://flipclockjs.com
    var wallClock = $('.clock').FlipClock({
		    clockFace: 'TwentyFourHourClock'
	     });

    var countdownClock = $('.countdownClock').FlipClock(120, {  //two minutes until Official Top
        countdown: true,

        callbacks: {
		        	interval: function() {
		        		var time = this.factory.getTime().time;
		        		if (_.contains([120, 90, 60, 30, 20, 10, 5, 4, 3, 2, 1], time)) {
                  new Howl({src: ['audio/en/' + time + '.mp3'], autoplay: true});
                  //console.log('interval', time);
			        	}
		        	},

              stop: function() {
                new Howl({src: ['audio/en/top.mp3'], autoplay: true});
                //console.log('stop');
              }
		        }
       });

    //https://github.com/goldfire/howler.js/tree/2.0
    //new Howl({src: ['audio/en/top.ogg'], autoplay: true});
  </script>
</template>
